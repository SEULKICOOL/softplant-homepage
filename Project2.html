<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./Project.css">
 
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reset-css@5.0.1/reset.min.css" />

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
      

</head>
<body>
    <header>
        <div class="inner">
          <a href="/"><img src="./swiperimage/logo.png"s alt="logo"></a>
            <ul class="menu">
              <li><a href ="">서비스</a></li>
              <li><a href="#">포트폴리오</a></li>
              <li><a href="#">팀원</a></li>
              <li><a href="./Project1.html">프로젝트 의뢰</a></li>
            </ul>
       </div>
            <div class="mobile-icon">
            <div class="material-icons">menu</div>
            </div>
      </header>
      <div class="mobile-menu">
        <div class="material-icons"id="mobile">close</div>
          <ul>
              <li><a href="">서비스</a></li>
              <li>포트폴리오</li>
              <li>팀원</li>
            <li><a href="./Project1.html">프로젝트 의뢰</a></li>
          </ul>
       </div>


    <section class="top">
        <div class="inner">
            <h1>프로젝트 등록</h1>
        </div>
        <div class="inner">
            <div class="navigation">
            <img src="./swiperimage/navi2.png" alt="navi">
            </div>
        </div>
   
        
        
    </section>

    <section class="basic"> 
            <div class="inner">
              
                    <h2>예산 및 일정</h2>
                    <span></span>
                        <h3>* 프로젝트 예산</h3>
                            <input type="text" id="pay" placeholder="부가가치세 10% 포함 숫자 입력 / 미확정: 0" onkeyup="inputNumberFormat(this)"/>
                        <h3>* 예상 시작일</h3>
                            <input type="text" id="date" placeholder="예상 날짜를 입력해 주세요  (ex.2023.05.23 or 최대한 빠르게 )">
                        <h3>* 프로젝트 진행 기간</h3>
                            <input type="text" id="term" placeholder="ex. 3개월">
                        <div class="select">
                            <h3> * 프로젝트 미팅 방식</h3>
                            <input type="radio" id="online" name="online" value="on">
                            <label for="online">온라인(전화, 화상회의 등)</label>
                            <input type="radio" id="offline" name="online" value="off">
                            <label for="online">오프라인 (방문회의)</label>
                          
                        </div>    
                        <h3>클라이언트 위치</h3>
                        <select name="city" id="city">
                            <option value="서울">서울</option>
                            <option value="경기">경기</option>
                            <option value="인천">인천</option>
                            <option value="강원">강원</option>
                            <option value="대전">대전</option>
                            <option value="충북">충북</option>
                            <option value="충남">충남</option>
                            <option value="경북">경북</option>
                            <option value="경남">경남</option>
                            <option value="광주">광주</option>
                            <option value="부산">부산</option>
                            <option value="울산">울산</option>
                            <option value="전남">전남</option>
                            <option value="전북">전북</option>
                            <option value="제주">제주</option>
                        </select>
                      
        
                            </div>
                        </div>
                    </div>
                 </div>
        </section>
        <div class="next">
            <button class="btn" ><a href="./Project1.html" >이전</a></button>
            <button class="btn" ><a href="#" onclick="getValues2()">다음</a></button>
          
         </div>
    <!-- script -->

    <script>
        //예산 금액 숫자에 콤마 찍어주는 함수
        function inputNumberFormat(obj) {
            obj.value = comma(uncomma(obj.value));
        }
        function comma(str) {
            str = String(str);
            return str.replace(/(\d)(?=(?:\d{3})+(?!\d))/g, '$1,');
        }
        function uncomma(str) {
            str = String(str);
            return str.replace(/[^\d]+/g, '');
        };


       
        document.getElementById("pay").value = window.localStorage.getItem("lastpay");
        document.getElementById("date").value = window.localStorage.getItem("lastdate");
        document.getElementById("term").value = window.localStorage.getItem("lastterm");
        if(window.localStorage.getItem("lastonline") == "on"){
            document.getElementById("online").checked = true;  
        }else if(window.localStorage.getItem("lastonline") == "off"){
            document.getElementById("offline").checked = true;  
        };

        // 시티 값 세팅하기

        const selectedCityValue =window.localStorage.getItem("lastcity");
        const originCity = document.getElementById("city");
        const cityLen = originCity.options.length;

        for(let i = 0 ; i < cityLen ; i ++){
            if(originCity.options[i].value == selectedCityValue){
                originCity.options[i].selected = true;
            }
        }

        

        window.lastpay = '';
        window.lastdate = '';
        window.lastterm = '';
        window.lastonline = '';
        window.lastoffline = '';
        window.lastcity = '';
        window.testTxt ='testTxt';

            function goSecondPage2(){
                lastpay = document.getElementById("pay").value;
                lastdate = document.getElementById("date").value
                lastterm = document.getElementById("term").value
                lastonline = document.getElementById("online").value
                lastoffline = document.getElementById("offline").value
                lastcity = document.getElementById("city").value
                window.location.href = "./Project3.html"
            }

            function getValues2(){  
                window.localStorage.setItem("lastpay",document.getElementById("pay").value);
                window.localStorage.setItem("lastdate",document.getElementById("date").value);
                window.localStorage.setItem("lastterm",document.getElementById("term").value);
                window.localStorage.setItem("lastonline",document.querySelector('input[name="online"]:checked').value);
                window.localStorage.setItem("lastoffline",document.getElementById("offline").value);
                const cityValue = document.getElementById("city");
                window.localStorage.setItem("lastcity",cityValue.options[cityValue.selectedIndex].value);
                window.location.href = "./Project3.html";
            }

        // Mobile


        const menuIcon = document.querySelector('.mobile-icon');
        const menu = document.querySelector('.mobile-menu');

        
        menuIcon.addEventListener('click', function() {
            menu.style.display = 'block';
        });

        const closeIcon = document.getElementById("mobile");

        closeIcon.addEventListener('click',function() {
            menu.style.display = 'none';
        })
  
    </script>

</body>
</html>